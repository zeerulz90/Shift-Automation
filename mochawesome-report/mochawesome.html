<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:5,&quot;passes&quot;:5,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-03-13T08:13:51.809Z&quot;,&quot;end&quot;:&quot;2024-03-13T08:17:54.553Z&quot;,&quot;duration&quot;:242744,&quot;testsRegistered&quot;:5,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;77569dae-3c37-4de8-b5f3-2488740e4e20&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Ehsanul Khan\\Projects\\Shift\\Shift-Automation\\src\\shift.test.js&quot;,&quot;file&quot;:&quot;\\src\\shift.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f19dd49c-3306-423d-b2cb-71d3c89051ef&quot;,&quot;title&quot;:&quot;Download, install and test Shift functionalities&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Ehsanul Khan\\Projects\\Shift\\Shift-Automation\\src\\shift.test.js&quot;,&quot;file&quot;:&quot;\\src\\shift.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Download, install and test Shift functionalities\&quot;&quot;,&quot;fullTitle&quot;:&quot;Download, install and test Shift functionalities \&quot;after all\&quot; hook in \&quot;Download, install and test Shift functionalities\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5428,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (driver) {\n    await driver.quit();\n}\nif (browser) {\n    await browser.close();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43475930-68fd-4ae6-8b49-c87d8ec3e450&quot;,&quot;parentUUID&quot;:&quot;f19dd49c-3306-423d-b2cb-71d3c89051ef&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Verify Shift downloads properly and grab version from installer filename&quot;,&quot;fullTitle&quot;:&quot;Download, install and test Shift functionalities Verify Shift downloads properly and grab version from installer filename&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10022,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Set up browser context to launch Shift website in Chrome\nbrowser = await chromium.launch({\n    headless: false,\n    defaultBrowserOptions: {\n        timeout: constants.DEFAULT_TIMEOUT, // Set timeout to 30 seconds\n    },\n});\nconst context = await browser.newContext({ acceptDownloads: true });\npage = await context.newPage();\n// Need expect for assertions\nconst { expect } = await import(&#x27;chai&#x27;);\n// Open Shift website\nawait page.goto(constants.SHIFT_URL);\n// Download Shift\nconst [ download ] = await Promise.all([\n    page.waitForEvent(&#x27;download&#x27;), // wait for download to start\n    page.getByRole(&#x27;link&#x27;, { name: constants.DOWNLOAD_SHIFT_BUTTON_LABEL }).first().click(),\n]);\n// Save shift installer executable file in the &#x27;Downloads&#x27; folder of our project path \ninstallerPath = PROJECT_ROOT_DIR + constants.DOWNLOADS_PATH + download.suggestedFilename();\nawait download.saveAs(installerPath);\n// Verify download is successful\nconst fileExists = fs.existsSync(installerPath);\nexpect(fileExists).to.be.true;\n// Grab the version number from the installer filename\nconst filename = download.suggestedFilename().split(&#x27;/&#x27;).pop();\ninstallerVersionNumber = filename.match(constants.VERSION_MATCH_REGEX)[0];\nexpect(installerVersionNumber).not.to.be.null;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12937f40-d031-4740-8b3f-d83c041dfd3a&quot;,&quot;parentUUID&quot;:&quot;f19dd49c-3306-423d-b2cb-71d3c89051ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Install Shift and verify versions from installer and installed filenames match&quot;,&quot;fullTitle&quot;:&quot;Download, install and test Shift functionalities Install Shift and verify versions from installer and installed filenames match&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5231,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Need expect for assertions\nconst { expect } = await import(&#x27;chai&#x27;);\n// Install Shift application\nconst installedPath = PROJECT_ROOT_DIR + constants.SHIFT_PATH;\ninstallApplication(installerPath, installedPath);\n\n// Allow some time before we attempt to run terminal command to retrieve app version\nawait delay(5000);\n// Get version number from installed version\nshiftPath = installedPath + constants.SHIFT_FILENAME;\nconst installedVersionNumber = await getFileVersion(shiftPath);\n// Match version from installer version and installer file\nexpect(installerVersionNumber).to.equal(installedVersionNumber);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;034bee5f-7e2a-42ed-a00b-ad1d115398aa&quot;,&quot;parentUUID&quot;:&quot;f19dd49c-3306-423d-b2cb-71d3c89051ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Launch Shift, login with first user and verify unread message count&quot;,&quot;fullTitle&quot;:&quot;Download, install and test Shift functionalities Launch Shift, login with first user and verify unread message count&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66779,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Need expect for assertions\nconst { expect } = await import(&#x27;chai&#x27;);\n// Allow some time before we attempt to launch Shift application, otherwise this can fail\nawait delay(20000);\n// Launch Shift application\ndriver = await launchShiftApp();\n// Ensure sign in section is visible\nconst signInButton = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.SIGN_IN_XPATH)), 20000);\n// Check terms of use only if unchecked\nconst termsOfUseCheckbox = await driver.findElement(By.xpath(signInLocators.locators.TERMS_OF_USE_CHECKBOX_XPATH));\nconst isTermsOfUseCheckboxChecked = await termsOfUseCheckbox.getAttribute(&#x27;Toggle.ToggleState&#x27;) === &#x27;1&#x27;;\nif (!isTermsOfUseCheckboxChecked) {\n    await termsOfUseCheckbox.click();\n}\n// Uncheck streamline setup only if checked\nconst streamlineSetupCheckbox = await driver.findElement(By.xpath(signInLocators.locators.STREAMLINE_SETUP_CHECKBOX_XPATH));\nconst isStreamlineSetupCheckboxChecked = await streamlineSetupCheckbox.getAttribute(&#x27;Toggle.ToggleState&#x27;) === &#x27;1&#x27;;\nif (isStreamlineSetupCheckboxChecked) {\n    await streamlineSetupCheckbox.click();\n}\n// Proceed with &#x27;Sign in with google&#x27;\nawait signInButton.click();\n// Ensure locale is set to English before proceeding with entering email\nconst localeComboBox = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.LOCALE_COMBO_BOX_XPATH)), 10000);\nawait localeComboBox.click();\nconst englishOption = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.ENGLISH_US_LOCALE_OPTION_XPATH)), 5000);\nawait englishOption.click();\n// Ensure email input field is visible\nconst emailInputField = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.EMAIL_INPUT_XPATH)), 10000);\n// Type in the email and press ENTER key\nawait emailInputField.sendKeys(userProfile.firstUser.email);\nawait emailInputField.sendKeys(Key.ENTER);\n// Ensure password input field is visible\nconst passwordInputField = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.PASSWORD_INPUT_XPATH)), 10000);\n// Type in the password and press ENTER key\nawait passwordInputField.sendKeys(userProfile.firstUser.password);\nawait passwordInputField.sendKeys(Key.ENTER);\n// Click &#x27;Continue&#x27; to allow Google to share name, email address etc with Shift\nconst continueButton = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.CONTINUE_BUTTON_XPATH)), 10000);\nawait continueButton.click();\n// Click &#x27;Allow&#x27; to trust Shift with regards to viewing email messages etc\nconst allowButton = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.ALLOW_BUTTON_XPATH)), 10000);\nawait allowButton.click();\n\n// To verify login, we verify that the user avatar button (top-right) is visible\nconst avatarButton = await driver.wait(until.elementLocated(By.xpath(messagesLocators.locators.FIRST_AVATAR_XPATH)), 10000);\nexpect(avatarButton).to.not.be.null;\n// Confirm that unreal email messages are atleast 3 (based on the number that appears besides the &#x27;Inbox&#x27; label)\nconst inboxDocumentXpath = await driver.findElement(By.xpath(messagesLocators.locators.INBOX_DOCUMENT_XPATH));\nconst nameAttribute = await inboxDocumentXpath.getAttribute(messagesLocators.labels.NAME_ATTRIBUTE);\nconst unreadMessageCount = parseInt(nameAttribute.match(constants.UNREAD_COUNT_REGEX)[0]); // Extract digits as integer\nexpect(unreadMessageCount).to.be.greaterThanOrEqual(constants.UNREAD_COUNT_MIN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b66ec31e-175a-42e3-83fe-f12508d13819&quot;,&quot;parentUUID&quot;:&quot;f19dd49c-3306-423d-b2cb-71d3c89051ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add workspace for second user and verify unread message count for second user&quot;,&quot;fullTitle&quot;:&quot;Download, install and test Shift functionalities Add workspace for second user and verify unread message count for second user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94795,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Need expect for assertions\nconst { expect } = await import(&#x27;chai&#x27;);\n// Click on the &#x27;+&#x27; to add workspace for the second user\naddToShiftButton = await driver.findElement(By.xpath(messagesLocators.locators.ADD_TO_SHIFT_XPATH));\nawait addToShiftButton.click();\nconst addWorkspaceButton = await driver.findElement(By.xpath(messagesLocators.locators.ADD_WORKSPACE_XPATH));\nawait addWorkspaceButton.click();\n// Enter email for new workspace\nconst secondUserEmailInputField = await driver.wait(until.elementLocated(By.xpath(messagesLocators.locators.ADD_WORKSPACE_EMAIL_XPATH)), 5000);\nawait secondUserEmailInputField.sendKeys(userProfile.secondUser.email);\n// Create Workspace\nconst createWorkspaceButton = await driver.findElement(By.xpath(messagesLocators.locators.CREATE_WORKSPACE_XPATH));\nawait createWorkspaceButton.click();\n// Locate the modal\nconst modal = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.MODAL_XPATH)), 30000);\nexpect(modal).not.to.be.null;\n// Since second user&#x27;s email is pre-filled, just click the input and press ENTER to continue\nconst secondEmailInputField = await modal.findElement(By.xpath(signInLocators.locators.EMAIL_INPUT_XPATH));\nawait secondEmailInputField.click();\nawait secondEmailInputField.sendKeys(Key.ENTER);\n// Type in the password for second user and press ENTER key\nconst secondPasswordInputField = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.PASSWORD_INPUT_XPATH)), 10000);\nawait secondPasswordInputField.sendKeys(userProfile.secondUser.password);\nawait secondPasswordInputField.sendKeys(Key.ENTER);\n// Click &#x27;Continue&#x27; to allow Google to share second user&#x27;s name, email address etc with Shift\nconst secondContinueButton = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.CONTINUE_BUTTON_XPATH)), 10000);\nawait secondContinueButton.click();\n// Click &#x27;Allow&#x27; to trust Shift with regards to viewing second user&#x27;s email messages etc\nconst secondAllowButton = await driver.wait(until.elementLocated(By.xpath(signInLocators.locators.ALLOW_BUTTON_XPATH)), 10000);\nawait secondAllowButton.click();\n// Dismiss the &#x27;Welcome to your Workspace&#x27;\nconst firstUserAvatar = await driver.findElement(By.xpath(messagesLocators.locators.FIRST_LEFT_USER_XPATH));\nawait firstUserAvatar.click();\nconst secondUserAvatar = await driver.findElement(By.xpath(messagesLocators.locators.SECOND_LEFT_USER_XPATH));\nawait secondUserAvatar.click();\n// To verify that second user is logged in, we verify that the second user&#x27;s avatar button (top-right) is visible\nconst secondAvatarButton = await driver.findElement(By.xpath(messagesLocators.locators.SECOND_AVATAR_XPATH));\nexpect(secondAvatarButton).not.to.be.null;\n// Confirm that unreal email messages are atleast 3 (based on the number that appears besides the &#x27;Inbox&#x27; label)\nconst secondInboxDocumentXpath = await driver.findElement(By.xpath(messagesLocators.locators.INBOX_DOCUMENT_XPATH));\nconst secondNameAttribute = await secondInboxDocumentXpath.getAttribute(messagesLocators.labels.NAME_ATTRIBUTE);\nconst secondUnreadMessageCount = parseInt(secondNameAttribute.match(constants.UNREAD_COUNT_REGEX)[0]); // Extract digits as integer\nexpect(secondUnreadMessageCount).to.greaterThanOrEqual(constants.UNREAD_COUNT_MIN);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a86a87d-aa9a-434a-964c-655876a559ab&quot;,&quot;parentUUID&quot;:&quot;f19dd49c-3306-423d-b2cb-71d3c89051ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add messenger application for second user and verify messenger log in&quot;,&quot;fullTitle&quot;:&quot;Download, install and test Shift functionalities Add messenger application for second user and verify messenger log in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60478,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Need expect for assertions\nconst { expect } = await import(&#x27;chai&#x27;);\n\n// Add application\nawait addToShiftButton.click();\nconst addApplicationButton = await driver.findElement(By.xpath(messagesLocators.locators.ADD_APPLICATION_XPATH));\nawait addApplicationButton.click();\n// Click &#x27;All&#x27;\nconst allOption = await driver.wait(until.elementLocated(By.xpath(appsDirectoryLocators.locators.ALL_APPS_OPTION_XPATH)), 20000);\nawait allOption.click();\n// Search for &#x27;Messenger&#x27;\nconst search = await driver.findElement(By.xpath(appsDirectoryLocators.locators.APP_SEARCH_INPUT_XPATH));\nawait search.click();\nawait search.sendKeys(appsDirectoryLocators.labels.MESSENGER_LABEL);\n// Click messenger app\nconst messenger = await driver.wait(until.elementLocated(By.xpath(appsDirectoryLocators.locators.MESSENGER_APP_XPATH)), 20000);\nawait messenger.click();\n// Save changes\nconst saveButton = await driver.wait(until.elementLocated(By.xpath(appsDirectoryLocators.locators.SAVE_APPLICATION_XPATH)), 20000);\nawait saveButton.click();\n// Enter email\nconst applicationEmailInput = await driver.wait(until.elementLocated(By.xpath(messengerLocators.locators.APPLICATION_EMAIL_XPATH)), 10000);\nawait applicationEmailInput.click();\nawait applicationEmailInput.sendKeys(userProfile.secondUser.email);\n// Enter password\nconst applicationPasswordInput = await driver.wait(until.elementLocated(By.xpath(messengerLocators.locators.APPLICATION_PASSWORD_XPATH)), 10000);\nawait applicationPasswordInput.click();\nawait applicationPasswordInput.sendKeys(userProfile.secondUser.password);\n// Log in\nconst applicationLogInButton = await driver.findElement(By.xpath(messengerLocators.locators.LOG_IN_XPATH));\nawait applicationLogInButton.click();\n// Verify log in by chat table visibility, no messages and no chats selected text\nconst chatTable = await driver.wait(until.elementLocated(By.xpath(messengerLocators.locators.CHAT_TABLE_XPATH)), 30000);\nexpect(chatTable).not.to.be.null;\n// Verify no messages as this is an empty account\nconst noMessagesText = await driver.findElement(By.xpath(messengerLocators.locators.NO_MESSAGES_XPATH));\nexpect(noMessagesText).not.to.be.null;\n// Verify no chats selected as this is an empty account\nconst noChatsSelectedText = await driver.findElement(By.xpath(messengerLocators.locators.NO_CHATS_SELECTED_XPATH));\nexpect(noChatsSelectedText).not.to.be.null;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;600b2d49-4724-4f8d-96ca-38cb075e1fd3&quot;,&quot;parentUUID&quot;:&quot;f19dd49c-3306-423d-b2cb-71d3c89051ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;12937f40-d031-4740-8b3f-d83c041dfd3a&quot;,&quot;034bee5f-7e2a-42ed-a00b-ad1d115398aa&quot;,&quot;b66ec31e-175a-42e3-83fe-f12508d13819&quot;,&quot;5a86a87d-aa9a-434a-964c-655876a559ab&quot;,&quot;600b2d49-4724-4f8d-96ca-38cb075e1fd3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:237305,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:500000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.3.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Shift-Automation&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\Ehsanul Khan\\Projects\\Shift\\Shift-Automation\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\Ehsanul Khan\\Projects\\Shift\\Shift-Automation\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>